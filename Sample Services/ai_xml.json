{
  "clusterProperties": [
    {
      "name": "ai.engine",
      "checksum": "6835e5bdda1a37344971e13fb343d402383066b2",
      "description": "",
      "hiddenProperty": false,
      "value": "lama.local"
    },
    {
      "name": "mistral-key",
      "checksum": "a517be500a6475ab841a803d63a427dc6e23c29f",
      "description": "",
      "hiddenProperty": false,
      "value": "J4wY6KVww1uzGx3iTRoZNriDTjJhIAAJ"
    }
  ],
  "keys": [
    {
      "keystoreId": "00000000000000000000000000000002",
      "alias": "SSL",
      "checksum": "c9a3ecbf86bc53c81d56c5f30caf066472088d75",
      "keyType": "RSA",
      "usageTypes": [
        "SSL"
      ],
      "subjectDn": "CN=ssg-556989dc46-zq5mh",
      "p12": "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",
      "certChain": [
        "-----BEGIN CERTIFICATE-----\nMIIDAzCCAeugAwIBAgIJANk4cLpmjJU0MA0GCSqGSIb3DQEBDAUAMB8xHTAbBgNVBAMTFHNzZy01\r\nNTY5ODlkYzQ2LXpxNW1oMB4XDTI0MTIwNjE2NDIxOFoXDTM0MTIwNDE2NDIxOFowHzEdMBsGA1UE\r\nAxMUc3NnLTU1Njk4OWRjNDYtenE1bWgwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCn\r\naBIrOzvE9tytJBs37fg0lMwATb0k1U5VZhMhbKBBEOpWcE0vJ5IK4KjyuuVCsYXzyX3oawAXX2gl\r\nE0VXy8rSj8Hg2XMgfmMGwETSrzMXKr+2W1UdS41OCR8MKwnsyVR3bSHFLAbulOHMMhIq3vfS7/91\r\nDq+Ncc59v8fAgCPXMW+fGss9dTxmBLHzs5/jj7hjSGyBMVYCiN+uggCdfPGeH4/CmoGnaOo2zFZk\r\nzyNepfNZgffMbzDhGyJ2WtnqJ/yBiF9GUwie1mX+qtDhbqzq5bO5Fh1GOCgz29c9u5tbhLM3aCJ0\r\nXS48eAtIQJGQL1zeRUaz657qs5gqyQKNdHHPAgMBAAGjQjBAMB0GA1UdDgQWBBQi8DxVgfTBVtEb\r\nlPfX/1nqqjeYPTAfBgNVHSMEGDAWgBQi8DxVgfTBVtEblPfX/1nqqjeYPTANBgkqhkiG9w0BAQwF\r\nAAOCAQEAjIUzF4h+Gq1MnaNCG9YDEUZMEkpUbt0DFnZmeGgfKJYr4yQCcKTsg4w7bKdK6GX0yPlJ\r\nN/Xl8z2ipNAftj8ua0hBfKFPGKh8rbfEg8jipP2Ey5AnN9A0tZ7aXvZqZbeD8mmUSJf7gJpn8Plp\r\nIK8hAMRw2SvyoMR79/QQD3HPkgRVb6xMQvN1nQcxANC0rwvtDMIEjvdQ4/nfDKRMZdyb3K5CTk9s\r\nqoUyoDUIxv98tQjJIOosaYhDcuCrW6Iu4CZTHwVwL8g9j+jyKCd3JWCraczI2FLMW6j1Chf0btpG\r\nGWvsl/TJr73O5sN78LyHlD2+XClMFTxxJBMq91GsSliYQA==\n-----END CERTIFICATE-----\n"
      ]
    }
  ],
  "services": [
    {
      "guid": "7b9b50ff-a1fa-4399-9ce6-86df8af978fb",
      "name": "AI Proxy",
      "resolutionPath": "/ai",
      "serviceType": "WEB_API",
      "checksum": "38a32211eecfd0e87ab85793c93bbf8c314cca78",
      "enabled": true,
      "folderPath": "/",
      "methodsAllowed": [
        "GET",
        "POST",
        "PUT",
        "DELETE"
      ],
      "tracingEnabled": false,
      "wssProcessingEnabled": false,
      "laxResolution": false,
      "policy": {
        "xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:FaultLevel>\n            <L7p:LevelInfo soapFaultLevel=\"included\">\n                <L7p:Level intValue=\"4\"/>\n            </L7p:LevelInfo>\n        </L7p:FaultLevel>\n        <L7p:SetVariable>\n            <L7p:Base64Expression stringValue=\"eWVvbWFu\"/>\n            <L7p:VariableToSet stringValue=\"prompt\"/>\n        </L7p:SetVariable>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:Expression1 stringValue=\"${request.http.parameter.engine}\"/>\n                    <L7p:Expression2 stringValue=\"mistral\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item binary=\"included\">\n                            <L7p:RightValue stringValue=\"mistral\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"ew0KICAgICJtb2RlbCI6ICJtaXN0cmFsLWxhcmdlLWxhdGVzdCIsDQogICAgIm1lc3NhZ2VzIjogWw0KICAgICAgICB7DQogICAgICAgICAgICAicm9sZSI6ICJ1c2VyIiwNCiAgICAgICAgICAgICJjb250ZW50IjogIiR7cHJvbXB0fSINCiAgICAgICAgfQ0KICAgIF0sDQogICAgInN0cmVhbSI6IHRydWUNCn0=\"/>\n                    <L7p:ContentType stringValue=\"application/json; charset=utf-8\"/>\n                    <L7p:DataType variableDataType=\"message\"/>\n                    <L7p:VariableToSet stringValue=\"ai_request\"/>\n                </L7p:SetVariable>\n                <L7p:AddHeader>\n                    <L7p:HeaderName stringValue=\"Content-Type\"/>\n                    <L7p:HeaderValue stringValue=\"application/json\"/>\n                    <L7p:OtherTargetMessageVariable stringValue=\"ai_request\"/>\n                    <L7p:Target target=\"OTHER\"/>\n                </L7p:AddHeader>\n                <L7p:AddHeader>\n                    <L7p:HeaderName stringValue=\"Accept\"/>\n                    <L7p:HeaderValue stringValue=\"application/json\"/>\n                    <L7p:OtherTargetMessageVariable stringValue=\"ai_request\"/>\n                    <L7p:Target target=\"OTHER\"/>\n                </L7p:AddHeader>\n                <L7p:AddHeader>\n                    <L7p:HeaderName stringValue=\"Authorization\"/>\n                    <L7p:HeaderValue stringValue=\"Bearer ${gateway.mistral-key}\"/>\n                    <L7p:OtherTargetMessageVariable stringValue=\"ai_request\"/>\n                    <L7p:Target target=\"OTHER\"/>\n                </L7p:AddHeader>\n                <L7p:HttpRoutingAssertion>\n                    <L7p:HttpMethod httpMethod=\"POST\"/>\n                    <L7p:OmitAuthHeaderConnectReuseSystemDefault boxedBooleanValue=\"true\"/>\n                    <L7p:ProtectedServiceUrl stringValue=\"https://api.mistral.ai/v1/chat/completions\"/>\n                    <L7p:ProxyPassword stringValueNull=\"null\"/>\n                    <L7p:ProxyUsername stringValueNull=\"null\"/>\n                    <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                        <L7p:ForwardAll booleanValue=\"true\"/>\n                        <L7p:Rules httpPassthroughRules=\"included\">\n                            <L7p:item httpPassthroughRule=\"included\">\n                                <L7p:Name stringValue=\"Cookie\"/>\n                            </L7p:item>\n                            <L7p:item httpPassthroughRule=\"included\">\n                                <L7p:Name stringValue=\"SOAPAction\"/>\n                            </L7p:item>\n                        </L7p:Rules>\n                    </L7p:RequestHeaderRules>\n                    <L7p:RequestMsgSrc stringValue=\"ai_request\"/>\n                    <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                        <L7p:ForwardAll booleanValue=\"true\"/>\n                        <L7p:Rules httpPassthroughRules=\"included\"/>\n                    </L7p:RequestParamRules>\n                    <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                        <L7p:ForwardAll booleanValue=\"true\"/>\n                        <L7p:Rules httpPassthroughRules=\"included\">\n                            <L7p:item httpPassthroughRule=\"included\">\n                                <L7p:Name stringValue=\"Set-Cookie\"/>\n                            </L7p:item>\n                        </L7p:Rules>\n                    </L7p:ResponseHeaderRules>\n                    <L7p:SamlAssertionVersion intValue=\"2\"/>\n                </L7p:HttpRoutingAssertion>\n                <L7p:MessageBuffering>\n                    <L7p:Enabled booleanValue=\"false\"/>\n                    <L7p:Target target=\"RESPONSE\"/>\n                </L7p:MessageBuffering>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:Expression1 stringValue=\"${request.http.parameter.engine}\"/>\n                    <L7p:Expression2 stringValue=\"lama\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item binary=\"included\">\n                            <L7p:RightValue stringValue=\"lama\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"ew0KICAgICJtb2RlbCI6ICJsbGFtYTMuMiIsDQogICAgIm1lc3NhZ2VzIjogWw0KICAgICAgICB7DQogICAgICAgICAgICAicm9sZSI6ICJ1c2VyIiwNCiAgICAgICAgICAgICJjb250ZW50IjogIiR7cHJvbXB0fSINCiAgICAgICAgfQ0KICAgIF0sDQogICAgInN0cmVhbSI6IGZhbHNlDQp9\"/>\n                    <L7p:ContentType stringValue=\"application/json; charset=utf-8\"/>\n                    <L7p:DataType variableDataType=\"message\"/>\n                    <L7p:VariableToSet stringValue=\"ai_request\"/>\n                </L7p:SetVariable>\n                <L7p:HttpRoutingAssertion>\n                    <L7p:HttpMethod httpMethod=\"POST\"/>\n                    <L7p:OmitAuthHeaderConnectReuseSystemDefault boxedBooleanValue=\"true\"/>\n                    <L7p:ProtectedServiceUrl stringValue=\"http://${gateway.ai.engine}:11434/api/chat\"/>\n                    <L7p:ProxyPassword stringValueNull=\"null\"/>\n                    <L7p:ProxyUsername stringValueNull=\"null\"/>\n                    <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                        <L7p:ForwardAll booleanValue=\"true\"/>\n                        <L7p:Rules httpPassthroughRules=\"included\">\n                            <L7p:item httpPassthroughRule=\"included\">\n                                <L7p:Name stringValue=\"Cookie\"/>\n                            </L7p:item>\n                            <L7p:item httpPassthroughRule=\"included\">\n                                <L7p:Name stringValue=\"SOAPAction\"/>\n                            </L7p:item>\n                        </L7p:Rules>\n                    </L7p:RequestHeaderRules>\n                    <L7p:RequestMsgSrc stringValue=\"ai_request\"/>\n                    <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                        <L7p:ForwardAll booleanValue=\"true\"/>\n                        <L7p:Rules httpPassthroughRules=\"included\"/>\n                    </L7p:RequestParamRules>\n                    <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                        <L7p:ForwardAll booleanValue=\"true\"/>\n                        <L7p:Rules httpPassthroughRules=\"included\">\n                            <L7p:item httpPassthroughRule=\"included\">\n                                <L7p:Name stringValue=\"Set-Cookie\"/>\n                            </L7p:item>\n                        </L7p:Rules>\n                    </L7p:ResponseHeaderRules>\n                    <L7p:SamlAssertionVersion intValue=\"2\"/>\n                </L7p:HttpRoutingAssertion>\n                <L7p:MessageBuffering>\n                    <L7p:Enabled booleanValue=\"false\"/>\n                    <L7p:Target target=\"RESPONSE\"/>\n                </L7p:MessageBuffering>\n            </wsp:All>\n        </wsp:OneOrMore>\n    </wsp:All>\n</wsp:Policy>\n"
      }
    }
  ],
  "properties": {
    "meta": {
      "id": "32e4464f-e7da-4d8f-9e76-12b307f8f1ee",
      "name": "Gateway Graphman Bundle - 2025-02-18T10:57:24.696Z",
      "author": "admin",
      "hostname": "localhost",
      "timestamp": "2025-02-18T10:57:24.696Z"
    },
    "defaultAction": "NEW_OR_UPDATE"
  }
}